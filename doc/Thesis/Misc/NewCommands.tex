% Euclidean Norm symbol
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}

% To use upper dot in Greek (equivalent of English semicolon)
\newcommand{\udot}{$^{\mbox{\textbf{.}}}$ }
 
\newcommand{\Fig}[1]{\emph{Figure} \ref{fig:#1}}        % E.g.  \Fig{drones}
\newcommand{\Tabl}[1]{\emph{Table} \ref{tab:#1}}        % E.g.  \Tabl{comparison}
\newcommand{\Equa}[1]{\emph{Equation} \ref{eq:#1}}      % E.g.  \Equa{linear}
\newcommand{\Chap}[1]{\emph{Chapter} \ref{chap:#1}}     % E.g.  \Chap{second}
\newcommand{\Sect}[1]{\emph{Section} \ref{sec:#1}}      % E.g.  \Sect{first}
\newcommand{\URI}[1]{(\href{#1}{URL})}                  % E.g.  \URI{www.google.com}  -> clickable (URL) text

% HLineWithSpaces<upperSpace>[lineLength]<downSpace>
\NewDocumentCommand\HLineWithSpaces{}{
    \vspace{3.2\baselineskip}
        \begin{center}
            \line(1,0){300}
        \end{center}
    \vspace{3.2\baselineskip}
}

% Create new Abbreviation (Use it on Abbreviation List ONLY! - before use actual abbreviation)
\NewDocumentCommand\CreateAbbr{m o m}{%
\textbf{#1} & #3\IfValueTF{#2}{\label{abbr:#2}}{\label{abbr:#1}}\\}  %E.g.  \Abbr{UAV}{Unmanned Aerial Vehicle}

% Use it whenever you want to call an abbreviation
\NewDocumentCommand\Abbr{m d<>}{%
    \ifcsundef{r@abbr:#1}{%
        \colorbox{red}{\textbf{Add #1 to your Abbr list}}%
    }{%
        % \ifcsundef{r@abbrUsed:#1}{%
        %     \begingroup%
        %     \let\textbf\relax%
        %     % TODO: Add here Long version of abbreviation for first execution
        %     (\hyperref[abbr:#1]{#1\IfValueT{#2}{#2}})%
        %     \endgroup%
        %     % 
        % }{%
            \hyperref[abbr:#1]{#1\IfValueT{#2}{#2}}%
        % }%
    }%
}  %E.g.  \Abbr{UAV}[s]

% \ifcsname r@abbr:#1 \endcsname
% \hyperref[abbr:#1]{#1\IfValueT{#2}{#2}}%
% \else
% \colorbox{red}{\textbf{Add #1 to your Abbr list}}%
% \fi

% E.g. \CaptionBasedwithURL{caption}[based](URL) 
\NewDocumentCommand\CaptionBasedwithURL{m o d()}{
    \caption[\relax{#1}]{#1\IfValueT{#2}{ based on \cite{#2}}\IfValueT{#3}{ \URI{#3}}}
}

% E.g. \FigCaptBasedURL{image}{caption}{label}<imageWidth>[based](URL)
\NewDocumentCommand\FigCaptLabelBasedURL{+m +m +m +D<>{0.5} +o +d()}{
    \begin{figure}[H]
        \centering
        \includegraphics[width=#4\linewidth]{#1}
        \decoRule
        \CaptionBasedwithURL{#2}[#5](#6)
        \label{fig:#3}
    \end{figure}
}